---
import DuelistCard from '../components/Cards/DuelistCard.astro';

const title = 'Ranking';

interface Duelist {
	userId: number;
	username: string;
	points: number;
	wins: number;
	losses: number;
	winRate: number;
	position: number;
}

// DUELIST API
const duelistResponse = await fetch(
	`${import.meta.env.PUBLIC_API_URL}/stats/?page=1&limit=12&banListName=Global`,
);
const duelistData = await duelistResponse.json();
const duelists = duelistData;
---

<ul role='list' class='grid grid-cols-[repeat(auto-fit,minmax(24ch,1fr))] gap-8 mt-8 p-0' id='section-ranking'>
	{duelists.map((duelist: Duelist) => <DuelistCard {...duelist} />)}
</ul>
